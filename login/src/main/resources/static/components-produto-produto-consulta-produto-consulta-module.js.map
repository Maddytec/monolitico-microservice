{"version":3,"sources":["./src/app/components/produto/produto-consulta/produto-consulta.component.html","./src/app/components/produto/produto-consulta/produto-consulta-routing.module.ts","./src/app/components/produto/produto-consulta/produto-consulta.component.scss","./src/app/components/produto/produto-consulta/produto-consulta.component.ts","./src/app/components/produto/produto-consulta/produto-consulta.module.ts"],"names":[],"mappings":"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","file":"components-produto-produto-consulta-produto-consulta-module.js","sourcesContent":["export default \"<div [@routerTransition] style=\\\"margin-left: 35px;\\\">\\n    <app-page-header [heading]=\\\"'Consultar produto'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\n\\n    <div [ngClass]=\\\"classCss\\\" role=\\\"alert\\\" *ngIf=\\\"message\\\">\\n        <strong>{{ message.text }}</strong>\\n    </div>\\n\\n    <div class=\\\"container\\\">\\n        <mat-form-field>\\n            <input matInput type=\\\"text\\\" (keyup)=\\\"doFilter($event.target.value)\\\" placeholder=\\\"Filter\\\">\\n        </mat-form-field>\\n    </div>\\n\\n    <div class=\\\"mat-elevation-z8\\\">\\n        <table mat-table [dataSource]=\\\"dataSource\\\">\\n\\n            <ng-container matColumnDef=\\\"id\\\">\\n                <th mat-header-cell *matHeaderCellDef> Id </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}} </td>\\n            </ng-container>\\n            \\n            <ng-container matColumnDef=\\\"sku\\\">\\n                <th mat-header-cell *matHeaderCellDef> Sku </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.sku}} </td>\\n            </ng-container>\\n            \\n            <ng-container matColumnDef=\\\"nome\\\">\\n                <th mat-header-cell *matHeaderCellDef> Descricao </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.nome}} </td>\\n            </ng-container>\\n            \\n            <ng-container matColumnDef=\\\"subcategoria\\\">\\n                <th mat-header-cell *matHeaderCellDef> Subcategoria </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.categoria.descricao}} </td>\\n            </ng-container>\\n            <ng-container matColumnDef=\\\"categoria\\\">\\n                <th mat-header-cell *matHeaderCellDef> Categoria </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.categoria.categoriaPai.descricao}} </td>\\n            </ng-container>\\n            <ng-container matColumnDef=\\\"quantidadeEstoque\\\">\\n                <th mat-header-cell *matHeaderCellDef> Estoque </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.quantidadeEstoque}} </td>\\n            </ng-container>\\n            <ng-container matColumnDef=\\\"valorUnitario\\\">\\n                <th mat-header-cell *matHeaderCellDef> Valor Unitario </th>\\n                <td mat-cell *matCellDef=\\\"let element\\\"> {{element.valorUnitario | currency:'BRL':true }} </td>\\n            </ng-container>\\n            <ng-container matColumnDef=\\\"editar\\\">\\n                    <th mat-header-cell *matHeaderCellDef> Editar</th>\\n                    <td mat-cell *matCellDef=\\\"let element\\\">\\n                      <button mat-icon-button color=\\\"accent\\\" (click)=\\\"edit(element.sku)\\\">\\n                        <mat-icon color=\\\"accent\\\" class=\\\"mat-18\\\">edit</mat-icon>\\n                      </button>\\n                    </td>\\n                  </ng-container>\\n            \\n                  <ng-container matColumnDef=\\\"delete\\\">\\n                    <th mat-header-cell *matHeaderCellDef> Excluir </th>\\n                    <td mat-cell *matCellDef=\\\"let element\\\">\\n                      <button mat-icon-button color=\\\"basic\\\">\\n                        <mat-icon color=\\\"warn\\\" class=\\\"mat-18\\\" (click)=\\\"delete(element.id)\\\">delete</mat-icon>\\n                      </button>\\n                    </td>\\n                  </ng-container>\\n\\n            <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n            <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n        </table>\\n        <mat-paginator \\n            #paginator\\n            [length]=\\\"length\\\"\\n            [pageIndex]=\\\"pageIndex\\\"\\n            [pageSize]=\\\"pageSize\\\"\\n            [pageSizeOptions]=\\\"pageSizeOptions\\\"\\n            showFirstLastButtons>\\n        </mat-paginator>\\n    </div>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProdutoConsultaComponent } from './produto-consulta.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: ProdutoConsultaComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class ProdutoConsultaRoutingModule { }\n","export default \"table {\\n  width: 100%;\\n}\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  width: 100%;\\n}\\n\\nbutton {\\n  border-bottom-width: 0px;\\n  border-top-width: 0px;\\n  border-left-width: 0px;\\n  border-right-width: 0px;\\n  background-color: white;\\n}\\n\\n.container {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.container > * {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21hZGR5dGVjL0RvY3VtZW50b3MvZG9ja2VyL21vbm9saXRvLXRvLW1pY3Jvc2VydmljZS9zb25pZmxvcmVzLWFwcC9zcmMvYXBwL2NvbXBvbmVudHMvcHJvZHV0by9wcm9kdXRvLWNvbnN1bHRhL3Byb2R1dG8tY29uc3VsdGEuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvcHJvZHV0by9wcm9kdXRvLWNvbnN1bHRhL3Byb2R1dG8tY29uc3VsdGEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsV0FBQTtBQ0NKOztBREVBO0VBQ0ksd0JBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSx1QkFBQTtBQ0NKOztBREVBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3Byb2R1dG8vcHJvZHV0by1jb25zdWx0YS9wcm9kdXRvLWNvbnN1bHRhLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbi5tYXQtZm9ybS1maWVsZCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbmJ1dHRvbiB7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMHB4O1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDBweDtcbiAgICBib3JkZXItbGVmdC13aWR0aDogMHB4O1xuICAgIGJvcmRlci1yaWdodC13aWR0aDogMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4uY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuLmNvbnRhaW5lciA+ICoge1xuICB3aWR0aDogMTAwJTtcbn1cbiIsInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5tYXQtZm9ybS1maWVsZCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmJ1dHRvbiB7XG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDBweDtcbiAgYm9yZGVyLXRvcC13aWR0aDogMHB4O1xuICBib3JkZXItbGVmdC13aWR0aDogMHB4O1xuICBib3JkZXItcmlnaHQtd2lkdGg6IDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uY29udGFpbmVyID4gKiB7XG4gIHdpZHRoOiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { SharedService } from '../../../shared/services/shared.service';\nimport { Produto } from '../../../shared/model/produto.model';\nimport { ProdutoService } from '../../../shared/services/produto.service';\nimport { ResponseApi } from '../../../shared/model/response-api';\nimport { MatTableDataSource, MatPaginator, PageEvent } from '@angular/material';\nimport { routerTransition } from '../../../router.animations';\nimport { DialogService } from '../../../dialog.service';\nimport { Router } from '@angular/router';\nimport { TableUtils } from '../../../shared/utils/table-utils';\n\nexport interface Produto {\n  id: string;\n  nome: string;\n  sku: string;\n  valorUnitario: number;\n  quantidadeEstoque: number;\n  categoria: {\n    id: string\n    descricao: string,\n    categoriaPai: {\n      id: string,\n      descricao: string\n    }\n  }\n}\n\n\n@Component({\n  selector: 'app-produto-cosulta',\n  templateUrl: './produto-consulta.component.html',\n  styleUrls: ['./produto-consulta.component.scss'],\n  animations: [routerTransition()]\n})\nexport class ProdutoConsultaComponent implements OnInit {\n  \n  shared: SharedService;\n  \n  message: {};\n  classCss: {};\n  \n  pageIndex: number = 0;\n  length: number = 0;\n  pageSize: number = 5;\n  pageSizeOptions = ['5', '10', '30', '50', '100'];\n  pageEvent: PageEvent;\n  dataSource: MatTableDataSource<Produto>;\n  produtos: Produto[] = new Array<Produto>();\n  displayedColumns: string[] = [\n    'id',\n    'sku', \n    'nome', \n    'subcategoria', \n    'categoria', \n    'quantidadeEstoque', \n    'valorUnitario',\n    'editar',\n    'delete'\n  ];\n\n  constructor(\n    private produtoService: ProdutoService,\n    private dialogService: DialogService,\n    private router: Router\n  ) {\n    this.shared = SharedService.getInstance();\n  }\n\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n\n  ngOnInit() {\n    this.findAll();\n  }\n\n  findAll() {\n    this.produtoService.findAll().subscribe((responseApi: ResponseApi) => {\n      Object.keys(responseApi).forEach(key => {\n        this.produtos.push(responseApi[key]);\n      });\n      this.dataSource = new MatTableDataSource<Produto>(this.produtos);\n      this.length = this.produtos.length;\n      this.dataSource.paginator = this.paginator;\n    }, err => {\n      this.showMessage({\n        type: 'error',\n        text: err['error']['errors'][0]\n      });\n    });\n  }\n\n  private showMessage(message: { type: string, text: string }): void {\n    this.message = message;\n    this.buildClasses(message.type);\n    setTimeout(() => {\n      this.message = undefined;\n    }, 5000);\n  }\n\n  private buildClasses(type: string): void {\n    this.classCss = {\n      'alert': true\n    }\n\n    if (type === 'error' || type === 'erro' || type === 'errors') {\n      type = 'danger'\n    }\n\n    this.classCss['alert-' + type] = true;\n  }\n\n  public doFilter = (value: string) => {\n    this.dataSource.filter = value.trim().toLocaleLowerCase();\n  }\n\n  edit(id: string) {\n    this.router.navigate(['/produto', id]);\n  }\n\n  delete(id: string) {\n    this.dialogService.confirm('Deseja realmente excluir o produto?')\n      .then((canDelete: boolean) => {\n        if (canDelete) {\n          this.message = {};\n          this.produtoService.delete(id).subscribe((responseApi: ResponseApi) => {\n            this.showMessage({\n              type: 'success',\n              text: 'Produto excluido'\n            });\n            TableUtils.deleteRowDataTable(id, this.dataSource, this.paginator);\n          }, err => {\n            this.showMessage({\n              type: 'error',\n              text: err['error']['message']\n            });\n          });\n        }\n      });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProdutoConsultaRoutingModule } from './produto-consulta-routing.module';\nimport { PageHeaderModule } from '../../../shared';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport {\n    MatTableModule,\n    MatSortModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatPaginatorModule,\n    MatIconModule\n} from '@angular/material';\nimport { ProdutoConsultaComponent } from './produto-consulta.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ProdutoConsultaRoutingModule,\n        PageHeaderModule,\n        CommonModule,\n        FormsModule,\n        PageHeaderModule,\n        ReactiveFormsModule,\n        MatTableModule,\n        MatSortModule,\n        MatFormFieldModule,\n        MatInputModule,\n        MatPaginatorModule,\n        MatIconModule,\n        NgbModule\n    ],\n    declarations: [ProdutoConsultaComponent]\n})\nexport class ProdutoConsultaModule { }\n"],"sourceRoot":"webpack:///"}