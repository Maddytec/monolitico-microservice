{"version":3,"sources":["./src/app/components/produto/produto-edicao/produto-edicao.component.html","./src/app/components/produto/produto-edicao/produto-edicao-routing.module.ts","./src/app/components/produto/produto-edicao/produto-edicao.component.scss","./src/app/components/produto/produto-edicao/produto-edicao.component.ts","./src/app/components/produto/produto-edicao/produto-edicao.module.ts","./src/app/shared/model/produto.model.ts"],"names":[],"mappings":"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","file":"components-produto-produto-edicao-produto-edicao-module.js","sourcesContent":["export default \"<div [@routerTransition] style=\\\"margin-left: 20px;\\\">\\n    <app-page-header [heading]=\\\"form.get('id').value > 0 ? 'Atualização de Produto': 'Cadastro de Produto'\\\" [icon]=\\\"'fa-edit'\\\"></app-page-header>\\n\\n    <div [ngClass]=\\\"classCss\\\" role=\\\"alert\\\" *ngIf=\\\"message\\\"><strong>{{ message.text }}</strong></div>\\n\\n    <div class=\\\"card m-3\\\">\\n        <h4 *ngIf=\\\"form.get('id').value > 0\\\" class=\\\"card-header\\\">Atualização de Produto</h4>\\n        <h4 *ngIf=\\\"form.get('id').value === null\\\" class=\\\"card-header\\\">Cadastro de Produto</h4>\\n        <div class=\\\"card-body mat-elevation-z8\\\">\\n            <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"salvar(form.value)\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"form-group col-md-2\\\">\\n                        <label for=\\\"sku\\\">Código</label>\\n                        <input formControlName=\\\"sku\\\" type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"sku\\\" id=\\\"sku\\\"\\n                            placeholder=\\\"Código\\\">\\n                    </div>\\n                    <div class=\\\"form-group col-md-6\\\">\\n                        <label for=\\\"nome\\\">Nome</label>\\n                        <input formControlName=\\\"nome\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"nome\\\"\\n                            placeholder=\\\"Nome do produto\\\">\\n                        <div *ngIf=\\\"submitted && f.nome.errors\\\" class=\\\"invalid-feedback\\\">\\n                            <div *ngIf=\\\"f.nome.errors.required\\\">O campo nome é obrigatório.</div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"form-group col-md-4\\\">\\n                        <label for=\\\"categoria\\\">Categoria</label>\\n                        <div class=\\\"input-group mb-3\\\">\\n                            <select formControlName=\\\"categoria\\\" class=\\\"custom-select\\\" id=\\\"inputGroupSelect01\\\"\\n                                (change)=\\\"findSubcategoriaFiltradas()\\\" [compareWith]=\\\"compararCategorias\\\">\\n                                <option [value]=\\\"null\\\" disabled>Selecione</option>\\n                                <option *ngFor=\\\"let categoria of categorias\\\" [ngValue]=\\\"categoria\\\" >\\n                                    {{ categoria.descricao }}</option>\\n                            </select>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"form-group col-md-4\\\">\\n                        <label for=\\\"subCategoria\\\">Subcategoria</label>\\n                        <div class=\\\"input-group mb-3\\\">\\n                            <select formControlName=\\\"subcategoria\\\" class=\\\"custom-select\\\" id=\\\"inputGroupSelect01\\\" [compareWith]=\\\"compararCategorias\\\">\\n                                <option [value]=\\\"null\\\">Selecione</option>\\n                                <option *ngFor=\\\"let subcategoria of subcategoriasFiltradas\\\" [ngValue]=\\\"subcategoria\\\">\\n                                    {{ subcategoria.descricao }}</option>\\n                            </select>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"form-group col-md-4\\\">\\n                        <label for=\\\"estoque\\\">Estoque</label>\\n                        <input formControlName=\\\"quantidadeEstoque\\\" type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"estoque\\\" id=\\\"estoque\\\"\\n                            placeholder=\\\"Estoque\\\">\\n                    </div>\\n                    <div class=\\\"form-group col-md-4\\\">\\n                        <label for=\\\"valor\\\">Valor</label>\\n                        <input formControlName=\\\"valorUnitario\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"valor\\\" placeholder=\\\"Valor\\\">\\n                    </div>\\n                </div>\\n                <input class=\\\"btn btn-secondary\\\" type=\\\"reset\\\" (click)=\\\"onReset()\\\" value=\\\"Cancelar\\\">\\n                <input [disabled]=\\\"!form.valid\\\"\\n                    class=\\\"btn btn-primary\\\" \\n                    type=\\\"submit\\\" value=\\\"Salvar\\\">\\n            </form>\\n        </div>\\n    </div>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProdutoEdicaoComponent } from './produto-edicao.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: ProdutoEdicaoComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class ProdutoEdicaoRoutingModule {\n}\n","export default \"table {\\n  width: 100%;\\n}\\n\\n.mat-form-field {\\n  font-size: 14px;\\n  width: 100%;\\n}\\n\\nbutton {\\n  border-bottom-width: 0px;\\n  border-top-width: 0px;\\n  border-left-width: 0px;\\n  border-right-width: 0px;\\n  background-color: white;\\n}\\n\\n.container {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.container > * {\\n  width: 100%;\\n}\\n\\n.container-edicao {\\n  position: relative;\\n  padding: 1rem;\\n  margin: 1rem -15px 0;\\n  border: solid #f8f9fa;\\n  border-width: 0.2rem 0 0;\\n}\\n\\n.mat-elevation-z8 {\\n  background: #005000;\\n  color: #999;\\n}\\n\\n.card-header {\\n  color: #005000;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21hZGR5dGVjL0RvY3VtZW50b3MvZG9ja2VyL21vbm9saXRvLXRvLW1pY3Jvc2VydmljZS9zb25pZmxvcmVzLWFwcC9zcmMvYXBwL2NvbXBvbmVudHMvcHJvZHV0by9wcm9kdXRvLWVkaWNhby9wcm9kdXRvLWVkaWNhby5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9wcm9kdXRvL3Byb2R1dG8tZWRpY2FvL3Byb2R1dG8tZWRpY2FvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLHdCQUFBO0VBQ0EscUJBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsdUJBQUE7QUNDSjs7QURFQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREdBO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLHdCQUFBO0FDQUo7O0FER0U7RUFDRSxtQkFBQTtFQUNBLFdBQUE7QUNBSjs7QURHQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9wcm9kdXRvL3Byb2R1dG8tZWRpY2FvL3Byb2R1dG8tZWRpY2FvLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbi5tYXQtZm9ybS1maWVsZCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbmJ1dHRvbiB7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMHB4O1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDBweDtcbiAgICBib3JkZXItbGVmdC13aWR0aDogMHB4O1xuICAgIGJvcmRlci1yaWdodC13aWR0aDogMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4uY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuLmNvbnRhaW5lciA+ICoge1xuICB3aWR0aDogMTAwJTtcbn1cblxuXG4uY29udGFpbmVyLWVkaWNhbyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHBhZGRpbmc6IDFyZW07XG4gICAgbWFyZ2luOiAxcmVtIC0xNXB4IDA7XG4gICAgYm9yZGVyOiBzb2xpZCAjZjhmOWZhO1xuICAgIGJvcmRlci13aWR0aDogLjJyZW0gMCAwO1xuICB9XG5cbiAgLm1hdC1lbGV2YXRpb24tejgge1xuICAgIGJhY2tncm91bmQ6IHJnYigwLCA4MCwgMCk7XG4gICAgY29sb3I6ICM5OTk7XG59XG5cbi5jYXJkLWhlYWRlciB7XG4gIGNvbG9yOnJnYigwLCA4MCwgMCk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiIsInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5tYXQtZm9ybS1maWVsZCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmJ1dHRvbiB7XG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDBweDtcbiAgYm9yZGVyLXRvcC13aWR0aDogMHB4O1xuICBib3JkZXItbGVmdC13aWR0aDogMHB4O1xuICBib3JkZXItcmlnaHQtd2lkdGg6IDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uY29udGFpbmVyID4gKiB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uY29udGFpbmVyLWVkaWNhbyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZzogMXJlbTtcbiAgbWFyZ2luOiAxcmVtIC0xNXB4IDA7XG4gIGJvcmRlcjogc29saWQgI2Y4ZjlmYTtcbiAgYm9yZGVyLXdpZHRoOiAwLjJyZW0gMCAwO1xufVxuXG4ubWF0LWVsZXZhdGlvbi16OCB7XG4gIGJhY2tncm91bmQ6ICMwMDUwMDA7XG4gIGNvbG9yOiAjOTk5O1xufVxuXG4uY2FyZC1oZWFkZXIge1xuICBjb2xvcjogIzAwNTAwMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { routerTransition } from '../../../router.animations';\nimport { FormGroup, FormBuilder, Validators, NgForm } from '@angular/forms';\nimport { SharedService } from '../../../shared/services/shared.service';\nimport { CategoriaService } from '../../../shared/services/categoria.service';\nimport { ResponseApi } from '../../../shared/model/response-api';\nimport { Categoria } from '../../../shared/model/categoria.model';\nimport { ProdutoService } from '../../../shared/services/produto.service';\nimport { Produto } from '../../../shared/model/produto.model';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-produto-edicao',\n  templateUrl: './produto-edicao.component.html',\n  styleUrls: ['./produto-edicao.component.scss'],\n  animations: [routerTransition()]\n})\n\nexport class ProdutoEdicaoComponent implements OnInit {\n  shared: SharedService;\n  message: {};\n  classCss: {};\n  categorias: Categoria[] = new Array<Categoria>();\n  subcategorias: Categoria[] = new Array<Categoria>();\n  subcategoriasFiltradas: Categoria[] = new Array<Categoria>();\n  produto: Produto;\n\n  form: FormGroup;\n  submitted = false;\n\n  constructor(\n    private formBuider: FormBuilder,\n    private categoriaService: CategoriaService,\n    private produtoService: ProdutoService,\n    private route: ActivatedRoute,\n  ) {\n    this.shared = SharedService.getInstance();\n  }\n\n  ngOnInit() {\n    this.inicializarFormulario();\n    this.findCategoriaAll();\n    this.findSubcategoriaAll();\n\n    let sku: string = this.route.snapshot.params['id'];\n    if (sku != undefined) {\n      this.findBySku(sku);\n    }\n  }\n\n  inicializarFormulario() {\n    this.form = this.formBuider.group({\n      id: [null],\n      sku: [null, Validators.required],\n      nome: ['', Validators.required],\n      categoria: [null, Validators.required],\n      subcategoria: [null, Validators.required],\n      quantidadeEstoque: ['', Validators.required],\n      valorUnitario: ['']\n    });\n  }\n\n  get f() { return this.form.controls; }\n\n  onReset() {\n    this.submitted = false;\n    this.form.reset();\n    this.produto = null\n    this.inicializarFormulario();\n    this.findCategoriaAll();\n  }\n\n  findSubcategoriaFiltradas() {\n    this.subcategoriasFiltradas = this.subcategorias.filter(\n      subcategoria =>\n        subcategoria.categoriaPai !== undefined\n        && subcategoria.categoriaPai.id === this.f.categoria.value.id\n    );\n  }\n\n  findSubcategoriaAll() {\n    this.categoriaService.findAll().subscribe((responseApi: ResponseApi) => {\n      Object.keys(responseApi).forEach(key => {\n        this.subcategorias.push(responseApi[key]);\n      });\n    },\n      err => {\n        this.showMessage({\n          type: 'error',\n          text: err['error']['errors'][0]\n        });\n      });\n  }\n\n  findCategoriaAll() {\n    this.categoriaService.findAll().subscribe((responseApi: ResponseApi) => {\n      Object.keys(responseApi).forEach(key => {\n        this.categorias.push(responseApi[key]);\n        this.categorias = this.categorias.filter(categoria => categoria.categoriaPai === undefined);\n      });\n    },\n      err => {\n        this.showMessage({\n          type: 'error',\n          text: err['error']['errors'][0]\n        });\n      });\n  }\n\n  private showMessage(message: { type: string, text: string }): void {\n    this.message = message;\n    this.buildClasses(message.type);\n    setTimeout(() => {\n      this.message = undefined;\n    }, 8000);\n  }\n\n  private buildClasses(type: string): void {\n    this.classCss = {\n      'alert': true\n    }\n\n    if (type === 'error' || type === 'erro' || type === 'errors') {\n      type = 'danger'\n    }\n\n    this.classCss['alert-' + type] = true;\n  }\n\n  salvar(form: NgForm) {\n    this.message = {};\n    if(this.f.sku.value != null){\n     this.findBySku(this.f.sku.value);\n    }\n    let id = this.produto != undefined ? this.produto.id : null;\n    this.produto = new Produto(\n      id,\n      this.f.nome.value,\n      this.f.sku.value,\n      this.f.valorUnitario.value,\n      this.f.quantidadeEstoque.value,\n      this.f.subcategoria.value\n    );\n    this.produtoService.createOrUpdate(this.produto).subscribe((responseApi: ResponseApi) => {\n      this.produto = null;\n      this.inicializarFormulario();\n      this.showMessage({\n        type: 'success',\n        text: `Produto cadastrado com sucesso`\n      });\n    }, err => {\n      this.showMessage({\n        type: 'error',\n        text: err['error']['errors'][0]\n      });\n    });\n\n  }\n\n  findBySku(sku: string) {\n    this.produtoService.findBySku(sku).subscribe((responseApi: ResponseApi) => {\n      this.produto = new Produto(responseApi['id'], responseApi['nome'], responseApi['sku'], responseApi['valorUnitario'], responseApi['quantidadeEstoque'], responseApi['categoria']);\n      this.form.patchValue(this.produto);\n\n      this.form.get('categoria').setValue(this.produto.categoria.categoriaPai);\n\n      this.categoriaService.findAll().subscribe(() => {\n        this.findSubcategoriaFiltradas();\n      });\n      \n      this.form.get('subcategoria').setValue(this.produto.categoria);\n    },\n      err => {\n        this.showMessage({\n          type: 'error',\n          text: err['error']['errors'][0]\n        });\n      });\n  }\n\n  compararCategorias(objeto1, objeto2): boolean {\n    return objeto1 && objeto2 ? objeto1.descricao === objeto2.descricao : objeto1 === objeto2;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PageHeaderModule } from '../../../shared';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { \n    MatTableModule, \n    MatSortModule, \n    MatFormFieldModule, \n    MatInputModule, \n    MatPaginatorModule, \n    MatIconModule } from '@angular/material';\nimport { ProdutoEdicaoRoutingModule } from './produto-edicao-routing.module';\nimport { ProdutoEdicaoComponent } from './produto-edicao.component';\n\n@NgModule({\n    imports: [\n        FormsModule, \n        ReactiveFormsModule,\n        CommonModule,\n        ProdutoEdicaoRoutingModule,\n        PageHeaderModule,\n        CommonModule,\n        PageHeaderModule,\n        MatTableModule,\n        MatSortModule,\n        MatFormFieldModule,\n        MatInputModule,\n        MatPaginatorModule,\n        MatIconModule\n    ],\n    declarations: [ProdutoEdicaoComponent]\n})\nexport class ProdutoEdicaoModule {}\n","import { Categoria } from \"./categoria.model\";\n\nexport class Produto {\n    constructor(\n        public id: string,\n        public nome: string,\n        public sku: string,\n        public valorUnitario: number,\n        public quantidadeEstoque: number,\n        public categoria: Categoria\n    ){\n\n    }\n}"],"sourceRoot":"webpack:///"}